<Window x:Class="CorporateChaos.Views.SaveFileManager"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Save File Manager" Height="500" Width="700" 
        WindowStartupLocation="CenterOwner" ResizeMode="NoResize"
        Background="#1a1a2e">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="ðŸ’¾ SAVE FILE MANAGER" FontSize="20" FontWeight="Bold" 
                      Foreground="White" HorizontalAlignment="Center" Margin="0,0,0,10"/>
            <TextBlock Text="Select a save file to continue or delete unwanted saves" 
                      FontSize="12" Foreground="LightGray" HorizontalAlignment="Center"/>
        </StackPanel>
        
        <!-- Save Files List -->
        <Border Grid.Row="1" Background="#16213e" CornerRadius="10" Padding="15">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                
                <TextBlock Grid.Row="0" Text="ðŸ“‹ Available Save Files" FontSize="16" FontWeight="Bold" 
                          Foreground="White" Margin="0,0,0,15"/>
                
                <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                    <ItemsControl x:Name="SaveFilesItemsControl">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Background="#2a2a4d" CornerRadius="8" Margin="0,0,0,10" Padding="15">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <!-- Save File Info -->
                                        <StackPanel Grid.Column="0">
                                            <TextBlock Text="{Binding SaveName}" FontSize="16" FontWeight="Bold" 
                                                      Foreground="White" Margin="0,0,0,5"/>
                                            
                                            <StackPanel Orientation="Horizontal" Margin="0,0,0,3">
                                                <TextBlock Text="ðŸ“… Quarter: " FontSize="11" Foreground="Gray"/>
                                                <TextBlock Text="{Binding CurrentQuarter}" FontSize="11" Foreground="LightBlue"/>
                                                <TextBlock Text=" | ðŸ’° Capital: $" FontSize="11" Foreground="Gray" Margin="15,0,0,0"/>
                                                <TextBlock Text="{Binding Company.Capital, StringFormat=N0}" FontSize="11" Foreground="LightGreen"/>
                                            </StackPanel>
                                            
                                            <StackPanel Orientation="Horizontal" Margin="0,0,0,3">
                                                <TextBlock Text="ðŸ“ˆ Market Share: " FontSize="11" Foreground="Gray"/>
                                                <TextBlock Text="{Binding Company.MarketShare, StringFormat=F1}" FontSize="11" Foreground="Yellow"/>
                                                <TextBlock Text="% | ðŸ‘¥ Employees: " FontSize="11" Foreground="Gray" Margin="15,0,0,0"/>
                                                <TextBlock Text="{Binding Company.EmployeeCount}" FontSize="11" Foreground="Cyan"/>
                                            </StackPanel>
                                            
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="ðŸ† Reputation: " FontSize="11" Foreground="Gray"/>
                                                <TextBlock Text="{Binding Company.Reputation}" FontSize="11" Foreground="Pink"/>
                                                <TextBlock Text=" | ðŸ˜Š Morale: " FontSize="11" Foreground="Gray" Margin="15,0,0,0"/>
                                                <TextBlock Text="{Binding Company.Morale}" FontSize="11" Foreground="LightBlue"/>
                                            </StackPanel>
                                        </StackPanel>
                                        
                                        <!-- Action Buttons -->
                                        <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                                            <Button Content="â–¶ï¸ Continue" Width="80" Height="35" Margin="0,0,10,0"
                                                   Background="#2a4d3a" Foreground="White" BorderBrush="#4d7a5d"
                                                   Click="ContinueBtn_Click" Tag="{Binding}"/>
                                            <Button Content="ðŸ—‘ï¸ Delete" Width="70" Height="35"
                                                   Background="#4d2a2a" Foreground="White" BorderBrush="#7a4d4d"
                                                   Click="DeleteBtn_Click" Tag="{Binding}"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
            </Grid>
        </Border>
        
        <!-- Bottom Controls -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,0,0">
            <TextBlock x:Name="NoSavesText" Text="No save files found. Start a new game to create your first save!" 
                      FontSize="12" Foreground="Orange" Visibility="Collapsed" VerticalAlignment="Center" Margin="0,0,20,0"/>
            <Button x:Name="RefreshBtn" Content="ðŸ”„ Refresh" Width="100" Height="40" 
                    Margin="0,0,20,0" Click="RefreshBtn_Click"/>
            <Button x:Name="CloseBtn" Content="Close" Width="100" Height="40" 
                    Click="CloseBtn_Click"/>
        </StackPanel>
    </Grid>
</Window>